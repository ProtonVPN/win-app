<Project Sdk="Microsoft.NET.Sdk">
    <PropertyGroup>
        <OutputType>WinExe</OutputType>
        <TargetFramework>net8.0-windows10.0.19041.0</TargetFramework>
        <TargetPlatformMinVersion>10.0.19041.0</TargetPlatformMinVersion>
        <RootNamespace>ProtonVPN.Client</RootNamespace>
        <ApplicationIcon>Assets/ProtonVPN.ico</ApplicationIcon>
        <ApplicationManifest>app.manifest</ApplicationManifest>
        <Platforms>x64</Platforms>
        <RuntimeIdentifiers>win-x64</RuntimeIdentifiers>
        <ImplicitUsings>enable</ImplicitUsings>
        <Nullable>enable</Nullable>
        <UseWinUI>true</UseWinUI>
        <EnableMsixTooling>true</EnableMsixTooling>
        <WindowsPackageType>None</WindowsPackageType>
        <AppendTargetFrameworkToOutputPath>false</AppendTargetFrameworkToOutputPath>
        <AppendRuntimeIdentifierToOutputPath>false</AppendRuntimeIdentifierToOutputPath>
        <OutputPath>..\..\bin</OutputPath>
        <SupportedOSPlatformVersion>10.0.19041.0</SupportedOSPlatformVersion>
        <GenerateAssemblyInfo>false</GenerateAssemblyInfo>
        <AutoGenerateBindingRedirects>true</AutoGenerateBindingRedirects>
        <GenerateBindingRedirectsOutputType>true</GenerateBindingRedirectsOutputType>
        <WindowsAppSDKSelfContained>true</WindowsAppSDKSelfContained>
        <DefineConstants>DISABLE_XAML_GENERATED_MAIN</DefineConstants>
    </PropertyGroup>
    <ItemGroup>
        <Compile Remove="UI\Dialogs\Infos\**" />
        <Compile Remove="UI\Home\VpnStatus\**" />
        <Compile Remove="Views\**" />
        <EmbeddedResource Remove="UI\Dialogs\Infos\**" />
        <EmbeddedResource Remove="UI\Home\VpnStatus\**" />
        <EmbeddedResource Remove="Views\**" />
        <None Remove="UI\Dialogs\Infos\**" />
        <None Remove="UI\Home\VpnStatus\**" />
        <None Remove="Views\**" />
        <Page Remove="UI\Dialogs\Infos\**" />
        <Page Remove="UI\Home\VpnStatus\**" />
        <Page Remove="Views\**" />
    </ItemGroup>

    <ItemGroup>
        <Manifest Include="$(ApplicationManifest)" />
    </ItemGroup>

    <ItemGroup>
        <PackageReference Include="Autofac" />
        <PackageReference Include="Autofac.Extensions.DependencyInjection" />
        <PackageReference Include="CommunityToolkit.Mvvm" />
        <PackageReference Include="CommunityToolkit.WinUI.Collections" />
        <PackageReference Include="CommunityToolkit.WinUI.Controls.HeaderedControls" />
        <PackageReference Include="CommunityToolkit.WinUI.Controls.Primitives" />
        <PackageReference Include="CommunityToolkit.WinUI.Controls.RangeSelector" />
        <PackageReference Include="CommunityToolkit.WinUI.Controls.SettingsControls" />
        <PackageReference Include="CommunityToolkit.WinUI.Converters" />
        <PackageReference Include="CommunityToolkit.WinUI.Triggers" />
        <PackageReference Include="H.NotifyIcon.WinUI" />
        <PackageReference Include="Microsoft.Extensions.Hosting" />
        <PackageReference Include="Microsoft.Extensions.Localization.Abstractions" />
        <PackageReference Include="Microsoft.WindowsAppSDK" />
        <PackageReference Include="Microsoft.Xaml.Behaviors.WinUI.Managed" />
        <PackageReference Include="Newtonsoft.Json" />
        <PackageReference Include="System.Collections.Immutable" />
        <PackageReference Include="System.Diagnostics.DiagnosticSource" />
        <PackageReference Include="System.Formats.Asn1" />
        <PackageReference Include="System.Text.Encoding.CodePages" />
        <PackageReference Include="System.Text.Json" />
        <PackageReference Include="WinUIEx" />
    </ItemGroup>
    <ItemGroup>
        <None Update="appsettings.json">
            <CopyToOutputDirectory>Always</CopyToOutputDirectory>
        </None>
        <Page Update="UI\Home\WrongCountryBanner\WrongCountryBannerComponent.xaml">
          <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="UI\Update\UpdateBoxComponent.xaml">
          <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="UI\Home\ConnectionCard\Overlays\ChangeServerOverlayDialog.xaml">
          <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="UI\Home\Map\CountryPin.xaml">
          <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="UI\Dialogs\Overlays\FreeConnectionsOverlayDialog.xaml">
          <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="UI\Home\ConnectionCard\FreeConnectionCardComponent.xaml">
          <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="UI\Update\UpdateComponent.xaml">
          <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="UI\Home\NotificationCard\NotificationCardComponent.xaml">
          <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="UI\Countries\Controls\SecureCoreCountryListControl.xaml">
          <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="UI\Home\ConnectionError\ConnectionErrorComponent.xaml">
          <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="UI\Gateways\Items\B2BServerItem.xaml">
          <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="UI\Gateways\Items\GatewayItem.xaml">
          <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="UI\Gateways\GatewaysPage.xaml">
          <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="UI\Settings\Pages\DeveloperToolsPage.xaml">
          <XamlRuntime>$(DefaultXamlRuntime)</XamlRuntime>
        </Page>
        <Page Update="UI\Tray\TrayIconComponent.xaml">
          <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="UI\Login\Overlays\SsoLoginOverlayDialog.xaml">
          <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="UI\Countries\Controls\NoSearchResultsView.xaml">
          <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="UI\Countries\Controls\ServerListControl.xaml">
          <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="UI\Countries\Controls\CountryFeatureTitleControl.xaml">
            <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="UI\Countries\Controls\SecureCoreCountryRowControl.xaml">
          <XamlRuntime>$(DefaultXamlRuntime)</XamlRuntime>
          <SubType>Designer</SubType>
        </Page>
        <Page Update="UI\Countries\Controls\ServerRowControl.xaml">
            <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="UI\Countries\CountryFeatureTabs\P2PCitiesPage.xaml">
            <XamlRuntime>$(DefaultXamlRuntime)</XamlRuntime>
        </Page>
        <Page Update="UI\Countries\CountryFeatureTabs\CityListComponent.xaml">
            <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="UI\Countries\CountryFeatureTabs\TorServersPage.xaml">
            <XamlRuntime>$(DefaultXamlRuntime)</XamlRuntime>
        </Page>
        <Page Update="UI\ReportIssue\Results\ReportIssueResultPage.xaml">
            <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="UI\ReportIssue\Steps\ContactFormPage.xaml">
            <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="UI\ReportIssue\Steps\QuickFixesPage.xaml">
            <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="UI\ReportIssue\Steps\CategorySelectionPage.xaml">
            <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="UI\HumanVerification\HumanVerificationDialog.xaml">
            <XamlRuntime>$(DefaultXamlRuntime)</XamlRuntime>
            <SubType>Designer</SubType>
            <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="UI\Account\AccountComponent.xaml">
            <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="UI\Dialogs\Windows\ReportIssueShellPage.xaml">
            <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="UI\Dialogs\Windows\ReportIssueWindow.xaml">
            <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="UI\Gallery\GalleryItemPage.xaml">
            <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="UI\Dialogs\Overlays\ProtocolOverlayDialog.xaml">
            <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="UI\Dialogs\Overlays\LatencyOverlayDialog.xaml">
            <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="UI\Dialogs\ServerLoadInfoDialog.xaml">
            <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="UI\Login\TwoFactorForm.xaml">
            <XamlRuntime>$(DefaultXamlRuntime)</XamlRuntime>
            <SubType>Designer</SubType>
        </Page>
        <Page Update="UI\Login\LoginForm.xaml">
            <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="UI\Login\LoginPage.xaml">
            <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="UI\Home\Details\VpnSpeedComponent.xaml">
            <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="UI\Home\Details\IpAddressComponent.xaml">
            <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="UI\Home\Details\ConnectionDetailsComponent.xaml">
            <Generator>MSBuild:Compile</Generator>
        </Page>
        <Page Update="UI\Gallery\GalleryPage.xaml">
            <Generator>MSBuild:Compile</Generator>
        </Page>
    </ItemGroup>

    <ItemGroup>
        <None Remove="UI\Home\UpsellBanner\UpsellBannerComponent.xaml" />
        <None Remove="UI\Settings\Pages\About\AboutPage.xaml" />
        <None Remove="Assets\protonvpn.ico" />
        <None Remove="UI\Account\AccountComponent.xaml" />
        <None Remove="UI\Countries\Controls\CountryFeatureTitleControl.xaml" />
        <None Remove="UI\Countries\Controls\CountryListControl.xaml" />
        <None Remove="UI\Countries\Controls\CountryRowControl.xaml" />
        <None Remove="UI\Countries\Controls\NoSearchResultsView.xaml" />
        <None Remove="UI\Countries\Controls\SecureCoreCountryListControl.xaml" />
        <None Remove="UI\Countries\Controls\SecureCoreCountryRowControl.xaml" />
        <None Remove="UI\Countries\Controls\ServerListControl.xaml" />
        <None Remove="UI\Countries\Controls\ServerRowControl.xaml" />
        <None Remove="UI\Countries\CountriesFeatureTabs\AllCountriesPage.xaml" />
        <None Remove="UI\Countries\CountriesFeatureTabs\P2PCountriesPage.xaml" />
        <None Remove="UI\Countries\CountriesFeatureTabs\SecureCoreCountriesPage.xaml" />
        <None Remove="UI\Countries\CountriesFeatureTabs\TorCountriesPage.xaml" />
        <None Remove="UI\Countries\CountryFeatureTabs\CitiesPage.xaml" />
        <None Remove="UI\Countries\CountryFeatureTabs\CityListComponent.xaml" />
        <None Remove="UI\Countries\CountryFeatureTabs\P2PCitiesPage.xaml" />
        <None Remove="UI\Countries\CountryFeatureTabs\SecureCoreCountryPage.xaml" />
        <None Remove="UI\Countries\CountryFeatureTabs\TorServersPage.xaml" />
        <None Remove="UI\Dialogs\Overlays\FreeConnectionsOverlayDialog.xaml" />
        <None Remove="UI\Dialogs\Overlays\LatencyOverlayDialog.xaml" />
        <None Remove="UI\Dialogs\Overlays\P2POverlayDialog.xaml" />
        <None Remove="UI\Dialogs\Overlays\ProtocolOverlayDialog.xaml" />
        <None Remove="UI\Dialogs\Overlays\SecureCoreOverlayDialog.xaml" />
        <None Remove="UI\Dialogs\Overlays\SmartRoutingOverlayDialog.xaml" />
        <None Remove="UI\Dialogs\Overlays\TorOverlayDialog.xaml" />
        <None Remove="UI\Dialogs\ServerLoadInfoDialog.xaml" />
        <None Remove="UI\Dialogs\Windows\ReportIssueShellPage.xaml" />
        <None Remove="UI\Dialogs\Windows\ReportIssueWindow.xaml" />
        <None Remove="UI\Gallery\GalleryItemPage.xaml" />
        <None Remove="UI\Gallery\GalleryPage.xaml" />
        <None Remove="UI\Home\ConnectionCard\FreeConnectionCardComponent.xaml" />
        <None Remove="UI\Home\ConnectionCard\Overlays\ChangeServerOverlayDialog.xaml" />
        <None Remove="UI\Home\ConnectionError\ConnectionErrorComponent.xaml" />
        <None Remove="UI\Gateways\GatewaysPage.xaml" />
        <None Remove="UI\Gateways\Items\B2BServerItem.xaml" />
        <None Remove="UI\Gateways\Items\GatewayItem.xaml" />
        <None Remove="UI\Home\Details\ConnectionDetailsComponent.xaml" />
        <None Remove="UI\Home\Details\IpAddressComponent.xaml" />
        <None Remove="UI\Home\Details\VpnSpeedComponent.xaml" />
        <None Remove="UI\Home\Map\CountryPin.xaml" />
        <None Remove="UI\HumanVerification\HumanVerificationDialog.xaml" />
        <None Remove="UI\Login\LoginForm.xaml" />
        <None Remove="UI\Login\LoginPage.xaml" />
        <None Remove="UI\Login\Overlays\SsoLoginOverlayDialog.xaml" />
        <None Remove="UI\Login\TwoFactorForm.xaml" />
        <None Remove="UI\ReportIssue\Results\ReportIssueResultPage.xaml" />
        <None Remove="UI\ReportIssue\Steps\CategorySelectionPage.xaml" />
        <None Remove="UI\ReportIssue\Steps\ContactFormPage.xaml" />
        <None Remove="UI\ReportIssue\Steps\QuickFixesPage.xaml" />
        <None Remove="UI\Settings\Pages\About\LicensingPage.xaml" />
        <None Remove="UI\Settings\Pages\DeveloperToolsPage.xaml" />
        <None Remove="UI\Tray\TrayIconComponent.xaml" />
        <None Remove="UI\Update\UpdateBoxComponent.xaml" />
        <None Remove="UI\Update\UpdateComponent.xaml" />
    </ItemGroup>

    <ItemGroup>
        <PRIResource Remove="Views\**" />
    </ItemGroup>

    <ItemGroup>
        <Folder Include="UI\Home\ConnectionCard\Overlays\" />
        <Folder Include="UI\Home\Map\" />
        <Folder Include="UI\Home\Help\" />
        <Folder Include="UI\Login\Forms\" />
        <Folder Include="UI\Upsell\Banner\" />
    </ItemGroup>

    <ItemGroup>
        <PRIResource Remove="UI\Home\VpnStatus\**" />
    </ItemGroup>

    <ItemGroup>
        <Compile Include="..\..\GlobalAssemblyInfo.cs" Link="Properties\GlobalAssemblyInfo.cs" />
    </ItemGroup>

    <ItemGroup>
        <ProjectReference Include="..\..\Api\ProtonVPN.Api.Installers\ProtonVPN.Api.Installers.csproj" />
        <ProjectReference Include="..\..\Configurations\ProtonVPN.Configurations.Installers\ProtonVPN.Configurations.Installers.csproj" />
        <ProjectReference Include="..\..\Crypto\ProtonVPN.Crypto.Installers\ProtonVPN.Crypto.Installers.csproj" />
        <ProjectReference Include="..\..\Dns\ProtonVPN.Dns.Installers\ProtonVPN.Dns.Installers.csproj" />
        <ProjectReference Include="..\..\EntityMapping\ProtonVPN.EntityMapping.Installers\ProtonVPN.EntityMapping.Installers.csproj" />
        <ProjectReference Include="..\..\Files\ProtonVPN.Files.Installers\ProtonVPN.Files.Installers.csproj" />
        <ProjectReference Include="..\..\IssueReporting\ProtonVPN.IssueReporting.Installers\ProtonVPN.IssueReporting.Installers.csproj" />
        <ProjectReference Include="..\..\Logging\ProtonVPN.Logging.Installers\ProtonVPN.Logging.Installers.csproj" />
        <ProjectReference Include="..\..\OperatingSystems\PowerEvents\ProtonVPN.OperatingSystems.PowerEvents.Contracts\ProtonVPN.OperatingSystems.PowerEvents.Contracts.csproj" />
        <ProjectReference Include="..\..\OperatingSystems\PowerEvents\ProtonVPN.OperatingSystems.PowerEvents.Installers\ProtonVPN.OperatingSystems.PowerEvents.Installers.csproj" />
        <ProjectReference Include="..\..\OperatingSystems\Processes\ProtonVPN.OperatingSystems.Processes.Installers\ProtonVPN.OperatingSystems.Processes.Installers.csproj" />
        <ProjectReference Include="..\..\OperatingSystems\Registries\ProtonVPN.OperatingSystems.Registries.Installers\ProtonVPN.OperatingSystems.Registries.Installers.csproj" />
        <ProjectReference Include="..\..\OperatingSystems\Services\ProtonVPN.OperatingSystems.Services.Installers\ProtonVPN.OperatingSystems.Services.Installers.csproj" />
        <ProjectReference Include="..\..\ProcessCommunication\App\ProtonVPN.ProcessCommunication.App.Installers\ProtonVPN.ProcessCommunication.App.Installers.csproj" />
        <ProjectReference Include="..\..\ProcessCommunication\ProtonVPN.ProcessCommunication.Installers\ProtonVPN.ProcessCommunication.Installers.csproj" />
        <ProjectReference Include="..\..\Serialization\ProtonVPN.Serialization.Installers\ProtonVPN.Serialization.Installers.csproj" />
        <ProjectReference Include="..\Common\ProtonVPN.Client.Common.Interop\ProtonVPN.Client.Common.Interop.csproj" />
        <ProjectReference Include="..\Common\ProtonVPN.Client.Common.UI\ProtonVPN.Client.Common.UI.csproj" />
        <ProjectReference Include="..\Common\ProtonVPN.Client.Common\ProtonVPN.Client.Common.csproj" />
        <ProjectReference Include="..\EventMessaging\ProtonVPN.Client.EventMessaging.Installers\ProtonVPN.Client.EventMessaging.Installers.csproj" />
        <ProjectReference Include="..\Files\ProtonVPN.Client.Files.Installers\ProtonVPN.Client.Files.Installers.csproj" />
        <ProjectReference Include="..\Localization\ProtonVPN.Client.Localization.Contracts\ProtonVPN.Client.Localization.Contracts.csproj" />
        <ProjectReference Include="..\Localization\ProtonVPN.Client.Localization.Extensions\ProtonVPN.Client.Localization.Extensions.csproj" />
        <ProjectReference Include="..\Localization\ProtonVPN.Client.Localization.Installers\ProtonVPN.Client.Localization.Installers.csproj" />
        <ProjectReference Include="..\Logic\Auth\ProtonVPN.Client.Logic.Auth.Installers\ProtonVPN.Client.Logic.Auth.Installers.csproj" />
        <ProjectReference Include="..\Logic\Connection\ProtonVPN.Client.Logic.Connection.Contracts\ProtonVPN.Client.Logic.Connection.Contracts.csproj" />
        <ProjectReference Include="..\Logic\Connection\ProtonVPN.Client.Logic.Connection.Installers\ProtonVPN.Client.Logic.Connection.Installers.csproj" />
        <ProjectReference Include="..\Logic\Feedback\ProtonVPN.Client.Logic.Feedback.Installers\ProtonVPN.Client.Logic.Feedback.Installers.csproj" />
        <ProjectReference Include="..\Logic\Recents\ProtonVPN.Client.Logic.Recents.Contracts\ProtonVPN.Client.Logic.Recents.Contracts.csproj" />
        <ProjectReference Include="..\Logic\Recents\ProtonVPN.Client.Logic.Recents.Installers\ProtonVPN.Client.Logic.Recents.Installers.csproj" />
        <ProjectReference Include="..\Logic\Servers\ProtonVPN.Client.Logic.Servers.Contracts\ProtonVPN.Client.Logic.Servers.Contracts.csproj" />
        <ProjectReference Include="..\Logic\Servers\ProtonVPN.Client.Logic.Servers.Installers\ProtonVPN.Client.Logic.Servers.Installers.csproj" />
        <ProjectReference Include="..\Logic\Services\ProtonVPN.Client.Logic.Services.Installers\ProtonVPN.Client.Logic.Services.Installers.csproj" />
        <ProjectReference Include="..\Logic\Updates\ProtonVPN.Client.Logic.Updates.Contracts\ProtonVPN.Client.Logic.Updates.Contracts.csproj" />
        <ProjectReference Include="..\Logic\Updates\ProtonVPN.Client.Logic.Updates.Installers\ProtonVPN.Client.Logic.Updates.Installers.csproj" />
        <ProjectReference Include="..\Logic\Users\ProtonVPN.Client.Logic.Users.Contracts\ProtonVPN.Client.Logic.Users.Contracts.csproj" />
        <ProjectReference Include="..\Logic\Users\ProtonVPN.Client.Logic.Users.Installers\ProtonVPN.Client.Logic.Users.Installers.csproj" />
        <ProjectReference Include="..\Notifications\ProtonVPN.Client.Notifications.Installers\ProtonVPN.Client.Notifications.Installers.csproj" />
        <ProjectReference Include="..\Settings\ProtonVPN.Client.Settings.Installers\ProtonVPN.Client.Settings.Installers.csproj" />
    </ItemGroup>

    <ItemGroup>
        <PRIResource Remove="UI\Dialogs\Infos\**" />
    </ItemGroup>

    <ItemGroup>
        <Content Update="Assets\ProtonVPN.ico">
            <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
        </Content>
    </ItemGroup>
</Project>